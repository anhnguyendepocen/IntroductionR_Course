---
title: "WPA 4: Spring 2017"
output: html_document
---


```{r global_options, include=FALSE}
knitr::opts_chunk$set(fig.width=12, fig.height=8,
                      echo=TRUE, warning=FALSE, message=FALSE, eval=TRUE)
```


```{r, echo = FALSE, eval = TRUE}
# setwd(rprojroot::is_rstudio_project$find_file())
```


```{r echo = FALSE, eval = FALSE}
# Create demographic data
matthews.df <- read.table(file = "http://journal.sjdm.org/15/15909/data1.csv", 
                     sep = ",",
                     header = TRUE)

# Create demo.df
set.seed(100)
demo.df <- data.frame(id = matthews.df$id)
demo.df$height <- round(rnorm(n = nrow(demo.df), mean = 170, sd = 10), 0)
demo.df$race <- sample(c("white", "hispanic", "black", "asian"), size = nrow(demo.df), prob = c(.5, .1, .2, .2), replace = TRUE)

demo.df <- demo.df[sample(nrow(demo.df)),]
rownames(demo.df) <- 1:nrow(demo.df)

write.table(x = demo.df, file = "/Users/nphillips/Dropbox/Public/matthews_demographics.txt", sep = "\t")
```


## Why do we overestimate others' willingness to pay?

<img src="https://dl.dropboxusercontent.com/u/7618380/matthewsscreen.png" height="200" />

In this WPA, we will analyze data from Matthews et al. (2016): Why do we overestimate others' willingness to pay? The purpose of this research was to test if our beliefs about other people's affluence (i.e.; wealth) affect how much we think they will be willing to pay for items. You can find the full paper at http://journal.sjdm.org/15/15909/jdm15909.pdf.

### Study 1

In this WPA, we will analyze data from their first study. In study 1, participants indicated the proportion of other people taking part in the survey who have more than themselves, and then whether other people would be willing to pay more than them for each of 10 items.

The following table shows a table of the 10 projects and proportion of participants who indicated that others would be more willing to pay for the product than themselves (Table 1 in Matthews et al., 2016).


Product Number| Product | Reported p(other > self)
------------  | ------- | --------
1             | A freshly-squeezed glass of apple juice | .695
2             | A Parker ballpoint pen | .863
3             | A pair of Bose noise-cancelling headphones | .705
4             | A voucher giving dinner for two at Applebee's | .853
5             | A 16 oz jar of Planters dry-roasted peanuts | .774
6             | A one-month movie pass | .800
7             | An Ikea desk lamp | .863
8             | A Casio digital watch | .900
9             | A large, ripe pineapple| .674
10             | A handmade wooden chess set | .732

*Table 1*: Proportion of participants who indicated that the “typical participant” would pay more than they would for each product in Study 1.


**Study 1 variable description**

Here are descriptions of the data variables (taken from the author's dataset notes available at http://journal.sjdm.org/15/15909/Notes.txt)

- `id`: participant id code
- `gender`: participant gender. 1 = male, 2 = female
- `age`: participant age
- `income`: participant annual household income on categorical scale with 8 categorical options: Less than $15,000; $15,001–$25,000; $25,001–$35,000; $35,001–$50,000; $50,001–$75,000; $75,001–$100,000; $100,001–$150,000; greater than $150,000.
- `p1-p10`: whether the "typical" survey respondent would pay more (coded 1) or less (coded 0) than oneself, for each of the 10 products 
- `task`: whether the participant had to judge the proportion of other people who "have more money than you do" (coded 1) or the proportion who "have less money than you do" (coded 0)
- `havemore`: participant's response when task = 1
- `haveless`: participant's response when task = 0
- `pcmore`: participant's estimate of the proportion of people who have more than they do (calculated as 100-haveless when task=0)


1. Open RStudio. Create a new project in a new working directory on your computer. Call the project `rcourse`. In the directory of the folder, create two folders: `R`, and `data`. Your file structure should look like this:


```{r}
getwd()
```


```{r, eval = TRUE, fig.align = 'center'}
# knitr::include_graphics(path = "../materials/images/projectss.png")
```




